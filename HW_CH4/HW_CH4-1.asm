LDI R16,$FF
OUT PORTB,R16 ; ACTIVATE PULLUPS
LDI R17,$00
OUT DDRB,R17; Set Direction as inputs. PORT B INPUT
OUT DDRA, R16 ; PORT A OUTPUT

L0:
SBIC PINB,0 
RJMP SENDHIGH0
RJMP SENDLOW0

L1:
SBIC PINB,1
RJMP SENDHIGH1
RJMP SENDLOW1

L2:
SBIC PINB,2 
RJMP SENDHIGH2
RJMP SENDLOW2

L3:
SBIC PINB,3
RJMP SENDHIGH3
RJMP SENDLOW3

L4:
SBIC PINB,4
RJMP SENDHIGH4
RJMP SENDLOW4

L5:
SBIC PINB,5
RJMP SENDHIGH5
RJMP SENDLOW5

L6:
SBIC PINB,6
RJMP SENDHIGH6
RJMP SENDLOW6

L7:
SBIC PINB,7
RJMP SENDHIGH7
RJMP SENDLOW7


SENDHIGH0:
SBI PORTA, 0
RJMP L1

SENDHIGH1:
SBI PORTA,1
RJMP L2

SENDHIGH2:
SBI PORTA,2
RJMP L3

SENDHIGH3:
SBI PORTA,3
RJMP L4

SENDHIGH4:
SBI PORTA,4
RJMP L5

SENDHIGH5:
SBI PORTA,5
RJMP L6

SENDHIGH6:
SBI PORTA,6
RJMP L7

SENDHIGH7:
SBI PORTA,7
RJMP L0

SENDLOW0:
CBI PORTA, 0
RJMP L1

SENDLOW1:
CBI PORTA,1
RJMP L2

SENDLOW2:
CBI PORTA,2
RJMP L3

SENDLOW3:
CBI PORTA,3
RJMP L4

SENDLOW4:
CBI PORTA,4
RJMP L5

SENDLOW5:
CBI PORTA,5
RJMP L6

SENDLOW6:
CBI PORTA,6
RJMP L7

SENDLOW7:
CBI PORTA,7
RJMP L0
